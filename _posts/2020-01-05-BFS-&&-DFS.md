---
layout: post
title: BFS && DFS
tags: [leetcode, BFS, DFS]
---

**102. Binary Tree Level Order Traversal**

```js
function TreeNode(val) {
  this.val = val;
  this.left = this.right = null;
}
```

è¿™ä¸ªé¢˜æ¯”è¾ƒç¬¦åˆäººä»¬è€ƒè™‘æ–¹å¼çš„åšæ³•æ˜¯ç”¨BFSä¸€å±‚å±‚æ¥éå†äºŒå‰æ ‘ã€‚

BFSæ˜¯ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œä¸€å±‚ä¸€å±‚çš„æ‰©æ•£å‡ºå»ï¼Œæ¯æ¬¡éƒ½å–å½“å‰å±‚çš„å„¿å­èŠ‚ç‚¹ï¼Œä¸€ç›´éå†ä¸‹å»ã€‚

ä¸€å¼€å§‹æˆ‘å†™æˆè¿™æ ·ï¼š

```js
// æ‰§è¡Œç”¨æ—¶ : 76 ms , åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº† 23.67% çš„ç”¨æˆ·
// å†…å­˜æ¶ˆè€— : 34.9 MB , åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº† 21.39% çš„ç”¨æˆ·
/**
 * @param {TreeNode} root
 * @return {number[][]}
 */
var levelOrder = function(root) {
  let res = []
  let level = []
  level.push(root)
  let children = function (parents) {
    let c = []
    for (let i = 0; i < parents.length; i++) {
      if (parents[i] !== undefined && parents[i] !== null) {
        c.push(parents[i].left)
        c.push(parents[i].right)
      }
    }
    return c
  }
  while (level.length > 0) {
    let vals = []
    for (let i = 0; i < level.length; i++) {
      if (level[i]) {
        vals.push(level[i].val)
      }
    }
    if (vals.length > 0) {
      res.push(vals)
    }
    level = children(level)
  }
  return res
};
```

é€šè¿‡æ˜¯é€šè¿‡äº†ï¼ŒçœŸæ˜¯è¿™ä¸ªç”¨æ—¶è®©æˆ‘æœ‰ç‚¹å›°æƒ‘ï¼Œè¿™è¿˜èƒ½æ€ä¹ˆå¿«ï¼Ÿç„¶åæˆ‘æƒ³åˆ°äº†ä¹‹å‰æŠŠ`for ... of ...`æ”¹æˆ`for (let i = 0 .....) `è¿™ç§å½¢å¼å±…ç„¶æé«˜äº†é€Ÿåº¦ï¼Œäºæ˜¯æˆ‘è¯•ç€æŠŠé‡Œé¢çš„pushæ¢æˆäº†ç´¢å¼•çš„æ–¹å¼æ¥å­˜å€¼ï¼Œç±»ä¼¼è¿™æ ·ï¼š

```js
let children = function (parents) {
  let c = []
  let j = 0
  for (let i = 0; i < parents.length; i++) {
    if (parents[i] !== undefined && parents[i] !== null) {
      c[j++] = parents[i].left
      c[j++] = parents[i].right
    }
  }
  return c
}
```

ç»“æœ â€¦â€¦ çœŸçš„å˜å¿«äº†ã€‚ğŸ˜‚

> æ‰§è¡Œç”¨æ—¶ :64 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†85.56%çš„ç”¨æˆ·
>
> å†…å­˜æ¶ˆè€— :36.1 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†5.47%çš„

æœ€åæˆ‘æŠŠæ‰€æœ‰çš„pushéƒ½æ”¹äº†åï¼š

>æ‰§è¡Œç”¨æ—¶ :60 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†94.25%çš„ç”¨æˆ·
>
>å†…å­˜æ¶ˆè€— :35.9 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†5.47%çš„ç”¨æˆ·ç‚«è€€ä¸€ä¸‹:

æœ€ç»ˆä»£ç ï¼š

```js
/**
 * @param {TreeNode} root
 * @return {number[][]}
 */
var levelOrder = function(root) {
  let children = function (parents) {
    let c = []
    let j = 0
    for (let i = 0; i < parents.length; i++) {
      if (parents[i] !== undefined && parents[i] !== null) {
        c[j++] = parents[i].left
        c[j++] = parents[i].right
      }
    }
    return c
  }

  let getVals = function (level) {
    let vals = []
    let j = 0
    for (let i = 0; i < level.length; i++) {
      if (level[i]) {
        vals[j++] = level[i].val
      }
    }
    return vals
  }
  let res = []
  let level = []
  level[0] = root
  let j = 0
  while (level.length > 0) {
    let vals = getVals(level)
    if (vals.length > 0) {
      res[j++] = vals
    }
    level = children(level)
  }
  return res
};
```

è¿™ä¸ªé¢˜ä¹Ÿå¯ä»¥ç”¨DFSæ¥åšï¼Œ è¿™æ ·é€’å½’å†™èµ·æ¥å¾ˆç®€æ´ï¼Œçœ‹ç€ä¹Ÿæ¯”è¾ƒèˆ’æœï¼Œå¤æ‚åº¦O(N)

DFSçš„åšæ³•æ˜¯ä¸€ç›´åœ¨ä¸€æ¡åˆ†æ”¯ä¸Šèµ°åˆ°åº•ï¼Œç„¶åå†å¾€ä¸Šå›æº¯

```js
// 64 ms 85.56%
var levelOrder = function(root) {
  if (!root) return []
  let res = []
  let level = 0
  let DFS = function (parent, level) {
    if (!parent) return
    if (res.length < level + 1) {
      res.push([])
    }
    res[level].push(parent.val)
    DFS (parent.left, level + 1)
    DFS (parent.right, level + 1)
  }
  DFS (root, level)
  return res
};
```

**102 äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦**

DFSå’ŒBFSéƒ½å¯ä»¥åšã€‚ç”¨BFSçš„è¯ï¼Œå› ä¸ºæ˜¯ä¸€å±‚å±‚çš„ä»ä¸Šå¾€ä¸‹æ‰«è¡ï¼Œä¸€ç›´æ‰«æåˆ°æœ€åº•å±‚å³å¯ã€‚ç”¨DFSçš„è¯ï¼Œç”¨é€’å½’å†™èµ·æ¥å¾ˆç®€æ´ã€‚

```js
// 72 ms 74.29%
// 37.3 mb 36.36%
var maxDepth = function (root) {
  if (!root) return 0;
  return 1 + Math.max(maxDepth(root.left), maxDepth(root.right))
};
```

**111 äºŒå‰æ ‘çš„æœ€å°æ·±åº¦**

åŒæ ·BFSå’ŒDFSéƒ½å¯ä»¥åšã€‚åŒæ ·ç”¨DFSå†™èµ·æ¥ä»£ç å°‘ç‚¹ï¼Œä½†æ˜¯å¤„ç†æœ€å°æ·±åº¦å’Œæœ€å¤§æ·±åº¦ç¨å¾®ä¸å¤ªä¸€æ ·ï¼Œä¸èƒ½ç›´æ¥æŠŠä¸Šé¢çš„ä»£ç æ”¹æˆminï¼Œå½“åªæœ‰å·¦å­æ ‘å’Œåªæœ‰å³å­æ ‘çš„æ—¶å€™å°±ä¼šæœ‰é—®é¢˜ã€‚

```js
// 72 ms 77.20%
// 37.2mb 69.67%
var minDepth = function(root) {
  if (!root) return 0;
  let res = null
  let goDeep = function (parent, level) {
    if (res && level > res) return; // æ¯”æœ€å°å¤§å°±å¯ä»¥ä¸ç»§ç»­èµ°ä¸‹å»äº†
    if (!parent.left && !parent.right) {
      if (!res || level < res) {
        res = level
        return
      }
    }

    if (parent.left) {
      goDeep(parent.left, level + 1)
    }

    if (parent.right) {
      goDeep(parent.right, level + 1)
    }
  }

  goDeep(root, 1)
  return res
};
```

çœ‹äº†è€å¸ˆçš„ä»£ç ï¼Œå‘ç°è¿˜èƒ½æ›´ç®€æ´ï¼š

```js
// 72 ms 77.20%
// 37.1mb 83.29%
var minDepth = function(root) {
  if (!root) return 0;
  let left = minDepth(root.left)
  let right = minDepth(root.right)
  
  return (left === 0 || right === 0 ? left + right + 1 : 1 + Math.min(left, right))
};
```

è¿™ä¸ªä»£ç å·§å¦™çš„å¤„ç†äº†é‚£ç§å·¦å³åªæœ‰ä¸€è¾¹å­˜åœ¨çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µå°±ä¸ç”¨minçš„æ–¹å¼ï¼Œè€Œç”¨`left + right + 1`æ¥è¿”å›ï¼Œä¼˜é›…ã€‚